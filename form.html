<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Product Review Form for BYU-Idaho WDD 131 Course" />
  <title>Product Review Form</title>
  <link rel="stylesheet" href="styles/styles.css" />
  <script defer src="scripts/form.js"></script>
  <script defer src="scripts/review.js"></script>
  <script>
    // Set max date for installationDate to today
    document.addEventListener('DOMContentLoaded', () => {
      const dateInput = document.getElementById('installationDate');
      const today = new Date().toISOString().split('T')[0];
      if (dateInput) {
        dateInput.max = today;
      }

      // Character counter for writtenReview textarea
      const review = document.getElementById('writtenReview');
      const charCount = document.getElementById('charCount');
      review.addEventListener('input', () => {
        const length = review.value.length;
        charCount.textContent = `${length} / 500 characters`;
      });
    });
  </script>
</head>

<body>
  <header>
    <div class="container header-inner">
      <h1 class="animated fadeInDown">Product Review Form</h1>
      <button class="hamburger" aria-label="Toggle menu" aria-expanded="false" aria-controls="nav-menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <nav id="nav-menu" hidden>
      <ul>
        <li><a href="form.html" tabindex="0">Home</a></li>
        <li><a href="#">W1</a></li>
        <li><a href="#">W2</a></li>
        <li><a href="#">W3</a></li>
        <li><a href="#">W4</a></li>
        <li><a href="#">W5</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <form id="reviewForm" action="review.html" method="get" novalidate>
      <fieldset>
        <legend>Product Information</legend>

        <label for="productName">
          Product Name <span aria-label="required">*</span>
        </label>
        <select id="productName" name="productName" required aria-required="true" class="animated fadeIn">
          <option value="" disabled selected>Select a Product ...</option>
          <!-- Options populated dynamically -->
        </select>

        <fieldset id="ratingFieldset">
          <legend>
            Overall Rating <span aria-label="required">*</span>
          </legend>
          <div class="rating-group" role="radiogroup" aria-labelledby="ratingLegend" aria-required="true" tabindex="0">
            <input type="radio" id="rate1" name="rating" value="1" required />
            <label for="rate1" title="1 star">☆</label>

            <input type="radio" id="rate2" name="rating" value="2" />
            <label for="rate2" title="2 stars">☆</label>

            <input type="radio" id="rate3" name="rating" value="3" />
            <label for="rate3" title="3 stars">☆</label>

            <input type="radio" id="rate4" name="rating" value="4" />
            <label for="rate4" title="4 stars">☆</label>

            <input type="radio" id="rate5" name="rating" value="5" />
            <label for="rate5" title="5 stars">☆</label>
          </div>
        </fieldset>

        <label for="installationDate">
          Date of Installation <span aria-label="required">*</span>
        </label>
        <input
          type="date"
          id="installationDate"
          name="installationDate"
          required
          aria-required="true"
          max=""
          class="animated fadeIn"
        />
      </fieldset>

      <fieldset>
        <legend>Features</legend>
        <p class="animated fadeIn">Check all features you found useful:</p>

        <input type="checkbox" id="feature1" name="features" value="Ease of Use" />
        <label for="feature1">Ease of Use</label>

        <input type="checkbox" id="feature2" name="features" value="Durability" />
        <label for="feature2">Durability</label>

        <input type="checkbox" id="feature3" name="features" value="Design" />
        <label for="feature3">Design</label>

        <input type="checkbox" id="feature4" name="features" value="Value for Money" />
        <label for="feature4">Value for Money</label>

        <input type="checkbox" id="feature5" name="features" value="Customer Support" />
        <label for="feature5">Customer Support</label>
      </fieldset>

      <fieldset>
        <legend>Review</legend>

        <label for="writtenReview">Write your review (optional):</label>
        <textarea
          id="writtenReview"
          name="writtenReview"
          rows="5"
          cols="33"
          maxlength="500"
          placeholder="Write your review here..."
          class="animated fadeIn"
        ></textarea>
        <p id="charCount" aria-live="polite" class="animated fadeIn" style="font-size: 0.9rem; color: #555;">
          0 / 500 characters
        </p>

        <label for="userName">Your Name (optional):</label>
        <input type="text" id="userName" name="userName" placeholder="Enter your name" />
      </fieldset>

      <button type="submit" class="animated fadeInUp">Submit Review</button>
    </form>
  </main>

  <footer>
    <p>&copy; Brigham Young University-Idaho | All rights reserved</p>
    <address>
      <strong>Reagan Otema</strong><br />
      Phone: <a href="tel:+256772514889">+256 772 514 889</a><br />
      Email: <a href="mailto:rotema@byupathway.edu">rotema@byupathway.edu</a>
    </address>
  </footer>
</body>
</html>
